(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65f2543e"],{"0ccb":function(t,e,n){var r=n("50c4"),i=n("1148"),a=n("1d80"),o=Math.ceil,s=function(t){return function(e,n,s){var l,u,c=String(a(e)),f=c.length,d=void 0===s?" ":String(s),h=r(n);return h<=f||""==d?c:(l=h-f,u=i.call(d,o(l/d.length)),u.length>l&&(u=u.slice(0,l)),t?c+u:u+c)}};t.exports={start:s(!1),end:s(!0)}},1148:function(t,e,n){"use strict";var r=n("a691"),i=n("1d80");t.exports="".repeat||function(t){var e=String(i(this)),n="",a=r(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(n+=e);return n}},3903:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("div",{staticClass:"filter-item"},[t._v(" 时间范围: "),n("el-date-picker",{attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd","value-format":"timestamp","default-time":["00:00:00","23:59:59"]},model:{value:t.listQuery.time_range,callback:function(e){t.$set(t.listQuery,"time_range",e)},expression:"listQuery.time_range"}})],1),n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.starch}},[t._v("查找")]),n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v(" 导出 ")])],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{id:"table_list",data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"统计日",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.time)+" ")]}}])}),n("el-table-column",{attrs:{label:"注册数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.register_num)+" ")]}}])}),n("el-table-column",{attrs:{label:"1日留存",width:"130",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.one))])]}}])}),n("el-table-column",{attrs:{label:"2日留存",width:"130",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.two)+" ")]}}])}),n("el-table-column",{attrs:{label:"3日留存",width:"130",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.three)+" ")]}}])}),n("el-table-column",{attrs:{label:"4日留存",width:"130",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.four)+" ")]}}])}),n("el-table-column",{attrs:{label:"5日留存",width:"130",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.five)+" ")]}}])}),n("el-table-column",{attrs:{label:"6日留存",width:"130",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.six)+" ")]}}])}),n("el-table-column",{attrs:{label:"7日留存",width:"130",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.seven)+" ")]}}])}),n("el-table-column",{attrs:{label:"15日留存",width:"130",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.fifteen)+" ")]}}])}),n("el-table-column",{attrs:{label:"1月留存",width:"130",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.month)+" ")]}}])})],1)],1)},i=[],a=(n("d81d"),n("a9e3"),n("b680"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("ed08")),o=n("b775");function s(t){return Object(o["a"])({url:"/users/list",method:"get",params:t})}var l={filters:{statusFilter:function(t){var e={published:"success",draft:"gray",deleted:"danger"};return e[t]}},data:function(){return{list:null,listLoading:!0,listQuery:{time_range:null}}},created:function(){var t={start:Math.floor(new Date(Object(a["b"])("day",-30).replace(/-/g,"/")).getTime()/1e3),end:Math.floor(new Date(Object(a["b"])("day",-1).replace(/-/g,"/")).getTime()/1e3)};this.fetchData(t)},methods:{fetchData:function(t){var e=this;this.listLoading=!0,s(t).then((function(t){e.list=e.rangeData(t.data),console.log(e.list),e.listLoading=!1}))},starch:function(){var t={start:this.listQuery.time_range[0]/1e3,end:this.listQuery.time_range[1]/1e3};this.fetchData(t)},retentionRate:function(t,e){var n=e.toString()+" ( ";return n+=Number(e/t*100).toFixed(2),n+="% )",n},rangeData:function(t){var e=this;return null===t||0===t.length?null:t.map((function(t){return{time:Object(a["c"])(t.time,"{y}-{m}-{d}"),register_num:t.register_num,one:e.retentionRate(t.register_num,t.one),two:e.retentionRate(t.register_num,t.two),three:e.retentionRate(t.register_num,t.three),four:e.retentionRate(t.register_num,t.four),five:e.retentionRate(t.register_num,t.five),six:e.retentionRate(t.register_num,t.six),seven:e.retentionRate(t.register_num,t.seven),fifteen:e.retentionRate(t.register_num,t.fifteen),month:e.retentionRate(t.register_num,t.month)}}))},handleDownload:function(){var t=this;this.listLoading=!0,Promise.all([n.e("chunk-5660f68d"),n.e("chunk-2133cd4f")]).then(n.bind(null,"4bf8")).then((function(e){var n=["统计日期","注册数量","次留","2留","3留","4留","5留","6留","7留","15留","月留"],r=t.excel_array();e.export_json_to_excel({header:n,data:r,filename:"table-list"}),t.listLoading=!1}))},excel_array:function(){var t=[],e=null;for(e in this.list)if(null!=this.list[e]){var n=[this.list[e].time,this.list[e].register_num,this.list[e].one,this.list[e].two,this.list[e].three,this.list[e].four,this.list[e].five,this.list[e].six,this.list[e].seven,this.list[e].fifteen,this.list[e].month];t.push(n)}return t}}},u=l,c=n("2877"),f=Object(c["a"])(u,r,i,!1,null,null,null);e["default"]=f.exports},"408a":function(t,e,n){var r=n("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},"466d":function(t,e,n){"use strict";var r=n("d784"),i=n("825a"),a=n("50c4"),o=n("1d80"),s=n("8aa5"),l=n("14c3");r("match",1,(function(t,e,n){return[function(e){var n=o(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var o=i(t),u=String(this);if(!o.global)return l(o,u);var c=o.unicode;o.lastIndex=0;var f,d=[],h=0;while(null!==(f=l(o,u))){var v=String(f[0]);d[h]=v,""===v&&(o.lastIndex=s(u,a(o.lastIndex),c)),h++}return 0===h?null:d}]}))},"4d90":function(t,e,n){"use strict";var r=n("23e7"),i=n("0ccb").start,a=n("9a0c");r({target:"String",proto:!0,forced:a},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"53ca":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}},6062:function(t,e,n){"use strict";var r=n("6d61"),i=n("6566");t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},6566:function(t,e,n){"use strict";var r=n("9bf2").f,i=n("7c73"),a=n("e2cc"),o=n("0366"),s=n("19aa"),l=n("2266"),u=n("7dd0"),c=n("2626"),f=n("83ab"),d=n("f183").fastKey,h=n("69f3"),v=h.set,g=h.getterFor;t.exports={getConstructor:function(t,e,n,u){var c=t((function(t,r){s(t,c,e),v(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),f||(t.size=0),void 0!=r&&l(r,t[u],t,n)})),h=g(e),p=function(t,e,n){var r,i,a=h(t),o=b(t,e);return o?o.value=n:(a.last=o={index:i=d(e,!0),key:e,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),f?a.size++:t.size++,"F"!==i&&(a.index[i]=o)),t},b=function(t,e){var n,r=h(t),i=d(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return a(c.prototype,{clear:function(){var t=this,e=h(t),n=e.index,r=e.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;e.first=e.last=void 0,f?e.size=0:t.size=0},delete:function(t){var e=this,n=h(e),r=b(e,t);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),f?n.size--:e.size--}return!!r},forEach:function(t){var e,n=h(this),r=o(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!b(this,t)}}),a(c.prototype,n?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return p(this,0===t?0:t,e)}}:{add:function(t){return p(this,t=0===t?0:t,t)}}),f&&r(c.prototype,"size",{get:function(){return h(this).size}}),c},setStrong:function(t,e,n){var r=e+" Iterator",i=g(e),a=g(r);u(t,e,(function(t,e){v(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){var t=a(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(e)}}},"6d61":function(t,e,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("94ca"),o=n("6eeb"),s=n("f183"),l=n("2266"),u=n("19aa"),c=n("861d"),f=n("d039"),d=n("1c7e"),h=n("d44e"),v=n("7156");t.exports=function(t,e,n){var g=-1!==t.indexOf("Map"),p=-1!==t.indexOf("Weak"),b=g?"set":"add",m=i[t],y=m&&m.prototype,w=m,_={},x=function(t){var e=y[t];o(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(p&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return p&&!c(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(p&&!c(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(a(t,"function"!=typeof m||!(p||y.forEach&&!f((function(){(new m).entries().next()})))))w=n.getConstructor(e,t,g,b),s.REQUIRED=!0;else if(a(t,!0)){var S=new w,k=S[b](p?{}:-0,1)!=S,I=f((function(){S.has(1)})),E=d((function(t){new m(t)})),D=!p&&f((function(){var t=new m,e=5;while(e--)t[b](e,e);return!t.has(-0)}));E||(w=e((function(e,n){u(e,w,t);var r=v(new m,e,w);return void 0!=n&&l(n,r[b],r,g),r})),w.prototype=y,y.constructor=w),(I||D)&&(x("delete"),x("has"),g&&x("get")),(D||k)&&x(b),p&&y.clear&&delete y.clear}return _[t]=w,r({global:!0,forced:w!=m},_),h(w,t),p||n.setStrong(w,t,g),w}},"9a0c":function(t,e,n){var r=n("342f");t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},a15b:function(t,e,n){"use strict";var r=n("23e7"),i=n("44ad"),a=n("fc6a"),o=n("a640"),s=[].join,l=i!=Object,u=o("join",",");r({target:"Array",proto:!0,forced:l||!u},{join:function(t){return s.call(a(this),void 0===t?",":t)}})},a9e3:function(t,e,n){"use strict";var r=n("83ab"),i=n("da84"),a=n("94ca"),o=n("6eeb"),s=n("5135"),l=n("c6b6"),u=n("7156"),c=n("c04e"),f=n("d039"),d=n("7c73"),h=n("241c").f,v=n("06cf").f,g=n("9bf2").f,p=n("58a8").trim,b="Number",m=i[b],y=m.prototype,w=l(d(y))==b,_=function(t){var e,n,r,i,a,o,s,l,u=c(t,!1);if("string"==typeof u&&u.length>2)if(u=p(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(a=u.slice(2),o=a.length,s=0;s<o;s++)if(l=a.charCodeAt(s),l<48||l>i)return NaN;return parseInt(a,r)}return+u};if(a(b,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var x,S=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof S&&(w?f((function(){y.valueOf.call(n)})):l(n)!=b)?u(new m(_(e)),n,S):_(e)},k=r?h(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;k.length>I;I++)s(m,x=k[I])&&!s(S,x)&&g(S,x,v(m,x));S.prototype=y,y.constructor=S,o(i,b,S)}},b680:function(t,e,n){"use strict";var r=n("23e7"),i=n("a691"),a=n("408a"),o=n("1148"),s=n("d039"),l=1..toFixed,u=Math.floor,c=function(t,e,n){return 0===e?n:e%2===1?c(t,e-1,n*t):c(t*t,e/2,n)},f=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},d=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}));r({target:"Number",proto:!0,forced:d},{toFixed:function(t){var e,n,r,s,l=a(this),d=i(t),h=[0,0,0,0,0,0],v="",g="0",p=function(t,e){var n=-1,r=e;while(++n<6)r+=t*h[n],h[n]=r%1e7,r=u(r/1e7)},b=function(t){var e=6,n=0;while(--e>=0)n+=h[e],h[e]=u(n/t),n=n%t*1e7},m=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==h[t]){var n=String(h[t]);e=""===e?n:e+o.call("0",7-n.length)+n}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(v="-",l=-l),l>1e-21)if(e=f(l*c(2,69,1))-69,n=e<0?l*c(2,-e,1):l/c(2,e,1),n*=4503599627370496,e=52-e,e>0){p(0,n),r=d;while(r>=7)p(1e7,0),r-=7;p(c(10,r,1),0),r=e-1;while(r>=23)b(1<<23),r-=23;b(1<<r),p(1,1),b(2),g=m()}else p(0,n),p(1<<-e,0),g=m()+o.call("0",d);return d>0?(s=g.length,g=v+(s<=d?"0."+o.call("0",d-s)+g:g.slice(0,s-d)+"."+g.slice(s-d))):g=v+g,g}})},baa5:function(t,e,n){var r=n("23e7"),i=n("e58c");r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},bb2f:function(t,e,n){var r=n("d039");t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},e58c:function(t,e,n){"use strict";var r=n("fc6a"),i=n("a691"),a=n("50c4"),o=n("a640"),s=n("ae40"),l=Math.min,u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0,f=o("lastIndexOf"),d=s("indexOf",{ACCESSORS:!0,1:0}),h=c||!f||!d;t.exports=h?function(t){if(c)return u.apply(this,arguments)||0;var e=r(this),n=a(e.length),o=n-1;for(arguments.length>1&&(o=l(o,i(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in e&&e[o]===t)return o||0;return-1}:u},ed08:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o}));n("4160"),n("a630"),n("c975"),n("a15b"),n("baa5"),n("d81d"),n("fb6a"),n("b64b"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("6062"),n("3ca3"),n("466d"),n("4d90"),n("5319"),n("1276"),n("159b"),n("ddb0");var r=n("53ca");function i(t,e){if(0===arguments.length||!t)return null;var n,i=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(r["a"])(t)?n=t:("string"===typeof t&&(t=/^[0-9]+$/.test(t)?parseInt(t):t.replace(new RegExp(/-/gm),"/")),"number"===typeof t&&10===t.toString().length&&(t*=1e3),n=new Date(t));var a={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),a:n.getDay()},o=i.replace(/{([ymdhisa])+}/g,(function(t,e){var n=a[e];return"a"===e?["日","一","二","三","四","五","六"][n]:n.toString().padStart(2,"0")}));return o}function a(t,e){var n,r,i,a=new Date,o=null;switch(t){case"day":a.setTime(a.getTime()+864e5*e),r=a.getFullYear(),i=a.getMonth()+1,o=a.getDate(),n=r+"-"+i+"-"+o;break;case"week":var s=new Date(a+6048e5*e);r=s.getFullYear(),i=s.getMonth()+1,o=s.getDate(),n=r+"-"+i+"-"+o;break;case"month":a.setMonth(a.getMonth()+e),r=a.getFullYear(),i=a.getMonth()+1,o=a.getDate(),n=r+"-"+i+"-"+o;break;case"year":a.setFullYear(a.getFullYear()+e),r=a.getFullYear(),i=a.getMonth()+1,o=a.getDate(),n=r+"-"+i+"-"+o;break;default:r=a.getFullYear(),i=a.getMonth()+1,o=a.getDate(),n=r+"-"+i+"-"+o}return n}function o(t,e,n){var r,i,a,o,s,l=function l(){var u=+new Date-o;u<e&&u>0?r=setTimeout(l,e-u):(r=null,n||(s=t.apply(a,i),r||(a=i=null)))};return function(){for(var i=arguments.length,u=new Array(i),c=0;c<i;c++)u[c]=arguments[c];a=this,o=+new Date;var f=n&&!r;return r||(r=setTimeout(l,e)),f&&(s=t.apply(a,u),a=u=null),s}}},f183:function(t,e,n){var r=n("d012"),i=n("861d"),a=n("5135"),o=n("9bf2").f,s=n("90e3"),l=n("bb2f"),u=s("meta"),c=0,f=Object.isExtensible||function(){return!0},d=function(t){o(t,u,{value:{objectID:"O"+ ++c,weakData:{}}})},h=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,u)){if(!f(t))return"F";if(!e)return"E";d(t)}return t[u].objectID},v=function(t,e){if(!a(t,u)){if(!f(t))return!0;if(!e)return!1;d(t)}return t[u].weakData},g=function(t){return l&&p.REQUIRED&&f(t)&&!a(t,u)&&d(t),t},p=t.exports={REQUIRED:!1,fastKey:h,getWeakData:v,onFreeze:g};r[u]=!0}}]);